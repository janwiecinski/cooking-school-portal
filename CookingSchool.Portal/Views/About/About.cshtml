@model CookingSchool.Portal.Models.ContactViewModel

@{
    ViewBag.Title = "About";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Contact with Us</h2>

<div class="col-md-6">
    <div>
        @if (ViewBag.Message == null)
        {
            <div>
                <p>@ViewData["pass"]</p>
              @using (Html.BeginForm("SendContactMessage", "About"))
              {
                <div class="form-group">
                    @Html.LabelForModel("Name", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-9">
                        @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control", @Id = "txtTitle" } })
                        @Html.ValidationMessageFor(model => model.Name, "Required, min 5 letters", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelForModel("Email", htmlAttributes: new { @class = "control-label col-md-2"})
                    <div class="col-md-9">
                        @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", @Id = "txtDescription" } })
                        @Html.ValidationMessageFor(model => model.Email, "Required", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelForModel("Subject", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-9">
                        @Html.EditorFor(model => model.Subject, new { htmlAttributes = new { @class = "form-control", @Id = "txtTitle" } })
                        @Html.ValidationMessageFor(model => model.Subject, "Required", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelForModel("Message", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-9">
                        @Html.TextAreaFor(model => model.Message, 10, 50, new { @class = "form-control", @Id = "txtDescription" })
                        @Html.ValidationMessageFor(model => model.Message, "Required", new { @class = "text-danger" })
                    </div>
                </div>
                <div>
                    <div class="form-group">

                        <div class="col-md-offset-2 col-md-10">

                            <input type="submit" name="Submit"  class="btn btn-default" />

                        </div>

                    </div>
                </div>
              }
            </div>
        }
    </div>
</div>
<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
        <span class="close">&times;</span>
        <p>Thank You for contact Us...</p>
    </div>

</div>
<div class="col-md-6">
    <div id="map"></div>
</div>
<script>
      function initMap() {
          var locationBielany = { lat: 52.270091, lng: 20.938632};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 10,
          center: locationBielany
        });
        var marker = new google.maps.Marker({
          position: locationBielany,
          map: map
        });
      }
</script>
<script 
        async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAHxP8KePUqqLnHApJrhUa8GIwAYnD_5lE&callback=initMap">
</script>
<script type="text/javascript">
    var modal = document.getElementById('myModal');
    var span = document.getElementsByClassName("close")[0];

    $('form').submit(function () {
        modal.style.display = "block";
    });

</script>